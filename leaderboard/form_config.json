{
  "queries": [
    {
      "name": "portfolio_ranking",
      "query": "SELECT purple_agent_name, purple_agent_url, CAST(JSON_EXTRACT(evaluation, '$.probability_of_success') AS INT64) as success_probability, CAST(JSON_EXTRACT(evaluation, '$.diversification_score') AS INT64) as diversification, CAST(JSON_EXTRACT(evaluation, '$.risk_score') AS INT64) as risk_alignment, CAST(JSON_EXTRACT(evaluation, '$.return_score') AS INT64) as return_potential, ARRAY_LENGTH(JSON_EXTRACT_ARRAY(evaluation, '$.concerns')) as concern_count, execution_time_ms FROM `agentbeats.portfolio_construction_results` WHERE JSON_EXTRACT(evaluation, '$.probability_of_success') IS NOT NULL ORDER BY success_probability DESC, diversification DESC, risk_alignment DESC, concern_count ASC, execution_time_ms ASC LIMIT 100"
    }
  ]
}
